function MoveMyLabel(o){var t=_id(o[1]);t.classList.add("move-label")}function ResetLabel(o){var t=_id(o[0]);if(""==t.value){var n=_id(o[1]);n.classList.remove("move-label")}}function LaunchDialog(o){document.body.style.overflow="hidden";var t=_id(o);t.style.display="flex",t.style.display="-webkit-flex",t.style.display="-ms-flexbox"}function CloseDialog(o){document.body.style.overflow="auto";var t=_id(o);t.style.display="none"}function ScrollToTop(){window.scrollTo(0,0)}function _id(o){return document.getElementById(o)}function setUpFunction(){notification=document.getElementById("notification")}function showNotification(o,t,n){notification.innerHTML=o,notification.style.background=t,notification.style.webkitAnimationDuration=n.toString()+"s",notification.style.mozAnimationDuration=n.toString()+"s",notification.style.msAnimationDuration=n.toString()+"s",notification.style.animationDuration=n.toString()+"s",notification.classList.add("play-animation"),notificationId=setInterval(hideNotification,1e3*n)}function hideNotification(){notification.classList.remove("play-animation"),clearInterval(notificationId)}var app=angular.module("tourepedia.shared",[]).constant("apiRoot","http://localhost/tp/1.1/app/api");window.onload=setUpFunction;var notification,notificationId;!function(){angular.module("tourepedia.shared").directive("inputVal",function(){return{link:function(o,t,n){t.on("focus",function(o){t.parent().addClass("focused")}),t.on("blur",function(o){""!=t.val()?t.parent().addClass("has-value"):t.parent().removeClass("has-value"),t.parent().removeClass("focused")})}}})}(),function(){angular.module("tourepedia.shared").directive("tpAuthModal",["Auth","Modals","$rootScope","$http","apiRoot",function(o,t,n,i,e){return{restrict:"E",templateUrl:function(o,t){return t.dir+"/html/templates/tp-auth-modal.html"},link:function(o,a,r){function s(){var a=o.user;i.post(e+"/users/index.php/login",a).then(function(i){var e=i.data;e.success?(t.close("auth-modal"),n.isLoggedIn=!0,n.$emmit("loggedIn")):o.loginError=e.error})}function l(){var t=o.newUser;t.isAuthor=void 0,void 0!=t.urls&&(t.urls=JSON.stringify(t.urls)),i.post(e+"/users/index.php/register",t).then(function(n){t=n.data,t.success?o.registrationSuccess=!0:o.registrationError=t.error})}o.user={},o.newUser={},o.login=s,o.register=l,n.$on("auth.login",function(n,i){o.purpose="login",o.author=i,t.open("auth-modal"),o.registrationSuccess=!1}),n.$on("auth.register",function(n,i){o.purpose="register",o.author=i,t.open("auth-modal"),o.registrationSuccess=!1})}}}])}(),function(){angular.module("tourepedia.shared").directive("tpModal",["$rootScope","Modals",function(o,t){return{link:function(n,i,e){n.modalId=e.id,i.on("click",function(o){i[0].childNodes[1]===o.target&&n.$apply(t.close(n.modalId))}),n.closeModal=function(){t.close(n.modalId)},o.$on("modals.open",function(o,t){n.modalId==t&&(i.addClass("active"),document.body.style.overflow="hidden")}),o.$on("modals.close",function(o,t){n.modalId==t&&(i.removeClass("active"),document.body.style.overflow="auto")})}}}])}(),function(){angular.module("tourepedia.shared").directive("tpMoveTop",["$window",function(o){return{restrict:"E",templateUrl:function(o,t){return t.dir+"/html/templates/tp-move-top.html"},link:function(t,n,i){n.addClass("move-top-button"),o.addEventListener("scroll",function(){wScroll=o.pageYOffset,wScroll>screen.height?n.hasClass("show")||n.addClass("show"):n.hasClass("show")&&n.removeClass("show")}),n.on("click",function(){o.scrollTo(0,0)})}}}])}(),function(){angular.module("tourepedia.shared").directive("tpNotification",["$rootScope",function(o){return{restrict:"E",templateUrl:function(o,t){return t.dir+"/html/templates/tp-notification.html"},link:function(t,n,i){t.message="",o.$on("notification.show",function(o,i){t.message=i,n.addClass("show")}),n.on("click",function(){n.removeClass("show")})}}}])}(),function(){angular.module("tourepedia.shared").service("Auth",["$rootScope","$http","apiRoot",function(o,t,n){return{login:function(t){o.$emit("auth.login",t)},register:function(t){o.$emit("auth.register",t)},loggedIn:function(){return t.get(n+"/users/index.php/loggedIn")},logout:function(){return t.get(n+"/users/index.php/logout")}}}])}(),function(){angular.module("tourepedia.shared").service("Modals",["$rootScope","$q",function(o,t){function n(t){e.id=t,o.$emit("modals.open",t)}function i(t){o.$emit("modals.close",t)}var e={id:null};return{open:n,close:i}}])}(),function(){angular.module("tourepedia.shared").service("Notification",["$rootScope",function(o){return{show:function(t){o.$emit("notification.show",t)}}}])}();